<div class="row">
  <div class="col-md-6">
    <table class="table ">
      <thead>
        <tr>
          <th>#</th>
          <th>Name</th>
          <th>Price</th>
        </tr>
      </thead>
      <tbody>
        <tr [class.table-active]="selectedProduct?.id == product.id || editProduct?.id == product.id" *ngFor="let product of products" (click)="previewProduct(product)" >
          <td>{{product.id}}</td>
          <td>{{product.name}}</td>
          <td>{{product.price}}</td>
        </tr>
      </tbody>
    </table>
    <p>
      <button class="btn btn-default" (click)="openNew()" >New Product</button>
    </p>
  </div>
  <div class="col-md-6" [ngSwitch]="mode" >
    <div *ngSwitchCase="'preview'">preview</div>
    <div *ngSwitchCase="'edit'">edit</div>
    <div *ngSwitchCase="'new'">new</div>
</div>
  <div class="col-md-6">

    <template [ngIf]="selectedProduct" >
      <div class="card">
        <div class="card-block">
          <h4 class="card-title">{{ selectedProduct.name }}</h4>
          <p class="card-text">Price - {{ selectedProduct.price }}</p>
          <p>
            <button class="btn btn-default" (click)="openEdit(selectedProduct)" >Edit product</button>
          </p>
        </div>
      </div>
    </template>

    <div class="card" *ngIf="editProduct">
        <div class="card-block">
          <h4 class="card-title">Edit Product</h4>
            <form>
              <div class="form-group">
              <input type="text" name="name" [(ngModel)]="editProduct.name" class="form-control" />
              </div>
              <div class="form-group">
              <input type="number" name="price" [(ngModel)]="editProduct.price" class="form-control" />
              </div>
            </form>
          <p>
            <button class="btn btn-default" (click)="saveChanges()">Save product</button>
          </p>
        </div>
      </div>

      <div class="card" *ngIf="newProduct">
        <div class="card-block">
          <h4 class="card-title">New Product</h4>
            <form>
              <div class="form-group">
              <input type="text" name="name" [(ngModel)]="newProduct.name" class="form-control" />
              </div>
              <div class="form-group">
              <input type="number" name="price" [(ngModel)]="newProduct.price" class="form-control" />
              </div>
            </form>
          <p>
            <button class="btn btn-default" (click)="saveNewChanges()">Save product</button>
          </p>
        </div>
      </div>


  </div>
</div>